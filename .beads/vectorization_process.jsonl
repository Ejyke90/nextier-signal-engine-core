    {"bead_id": "nnvcd_vectorization_process_001", "type": "vectorization_process", "title": "NNVCD ACLED Data Vectorization Process", "version": "1.1", "created": "2025-01-11", "description": "Process definition for vectorizing ACLED Nigeria conflict data", "process": {"dependencies": {"libraries": ["pandas", "requests", "pinecone-client", "openai", "numpy", "sentence-transformers", "faiss-cpu"], "versions": {"pandas": "2.0.0", "pinecone-client": "2.2.1", "openai": "1.0.0", "sentence-transformers": "2.2.2", "faiss-cpu": "1.7.4"}}, "steps": {"step_1_data_acquisition": {"action": "Download ACLED Nigeria dataset", "source": "https://data.humdata.org/dataset/nigeria-acled-conflict-data", "method": "API or direct download", "output": "Raw CSV/XLSX file", "error_handling": "Retry on connection failure, validate file integrity"}, "step_2_data_preprocessing": {"action": "Clean and normalize dataset", "tasks": ["Convert dates to ISO format", "Handle missing values with placeholders", "Standardize location names", "Filter for Nigeria-specific entries"], "output": "Cleaned DataFrame", "validation": "Check row count against expected range"}, "step_3_text_extraction": {"action": "Extract and prepare text for embedding", "fields": ["NOTES", "EVENT_TYPE", "SUB_EVENT_TYPE", "ACTOR1", "ACTOR2"], "concatenation": "Combine fields into single text string per event as 'brain_input'", "chunking": {"method": "sentence-based", "max_size": 512, "overlap": 128}, "output": "List of text chunks with associated metadata"}, "step_4_embedding_generation": {"action": "Generate vector embeddings", "model_primary": "text-embedding-ada-002", "model_fallback": "all-MiniLM-L6-v2", "api_primary": "OpenAI API", "api_fallback": "Local SentenceTransformer", "batch_size": 100, "rate_limit_handling": "Exponential backoff on API rate limits", "output": "Vector representations for each text chunk", "error_handling": "Log failed embeddings, retry up to 3 times, fallback to local model if API fails"}, "step_5_metadata_preparation": {"action": "Prepare metadata for indexing", "fields": ["EVENT_DATE", "LOCATION", "LATITUDE", "LONGITUDE", "FATALITIES", "EVENT_ID"], "format": "Dictionary per event", "output": "Metadata linked to vector IDs"}, "step_6_indexing": {"action": "Index vectors and metadata", "primary_target": "Pinecone", "primary_index_name": "nnvcd-acled-conflicts", "primary_namespace": "nigeria-conflict-events", "fallback_target": "FAISS local index", "fallback_index_path": "/Users/ejikeudeze/AI_Projects/nextier-nigeria-violent-conflicts-database/.beads/brain_data/nnvcd_acled_brain.index", "fallback_map_path": "/Users/ejikeudeze/AI_Projects/nextier-nigeria-violent-conflicts-database/.beads/brain_data/nnvcd_knowledge_map.csv", "method": "Batch upsert for Pinecone, batch add for FAISS", "batch_size": 100, "error_handling": "Log failed upserts, retry batch, fallback to FAISS if Pinecone fails", "validation": "Confirm indexed count matches processed count"}}, "execution": {"mode": "Batch processing", "trigger": "Scheduled weekly or on-demand after ACLED update", "environment": "Docker container or cloud function", "logging": "Detailed logs for each step, stored in /logs directory", "monitoring": "Alert on process failure or significant data drop"}, "recovery": {"checkpointing": "Save progress after each step", "restart_policy": "Resume from last successful checkpoint on failure"}}
